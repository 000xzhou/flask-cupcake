{% extends 'base.html' %} {% block content %}
<form id="add-cupcake" method="POST" class="form-box">
  {{ form.hidden_tag() }}
  <!--add type=hidden form fields -->
  <h3>Add a cupcake</h3>
  <div id="error-msg"></div>
  {% for field in form if field.widget.input_type != 'hidden' %}
  <p>
    {{ field.label }} {{ field }} {% for error in field.errors %} {{ error }} {%
    endfor %}
  </p>

  {% endfor %}

  <button id="add-cupcake-btn" type="submit">Add Cupcake</button>
</form>
<hr />
<form id="search-cupcake" method="get">
  <!-- Input for search query -->
  <input id="searchFlavor" type="text" name="flavor" placeholder="Search..." />

  <!-- Button to submit the form -->
  <button type="submit">Search</button>
</form>

<h3>List of cupcakes</h3>
<div class="flex" id="list-of-cupcakes">
  {% for cupcake in results %}
  <div class="cupcake" data-id="{{cupcake.id}}">
    <p>{{cupcake.flavor}}</p>
    <p>{{cupcake.size}}</p>
    <p>{{cupcake.rating}}</p>
    <img
      src="{{cupcake.image}}"
      alt="image of cupcake"
      width="200"
      height="300"
    />
    <a href="/cupcakes/{{cupcake.id}}">Edit</a>
    <button class="delete-btn">Delete</button>
  </div>
  {% endfor %}
</div>
{% endblock %}
